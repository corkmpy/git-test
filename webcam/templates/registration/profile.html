{% extends 'base.html' %}

{% block title %}Profile - Health Site{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center">프로필</h2>
    <div class="row justify-content-center">
        <div class="col-md-6 text-center">
            <!-- 유저 정보 표시 -->
            <p class="lead"><strong>이름:</strong> {{ user.username }}</p>
            <p class="lead"><strong>이메일:</strong> {{ user.email }}</p> 
        </div> 
    </div>
    <hr>
    <h3 class="text-center mt-4 mb-4">기존 메모</h3>
    <!-- 메모 목록 -->
    <div class="row">
        {% for memo in memos %}
            <div class="col-md-4">
                <div class="card mb-4 shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">{{ memo.date }}</h5>
                        <p class="card-text">{{ memo.text }}</p>
                        {% if memo.photo %}
                            <!-- 메모에 포함된 사진 표시 -->
                            <img src="{{ memo.photo.url }}" class="img-fluid mb-3" alt="Memo Photo">
                        {% endif %}
                        <a href="{% url 'memo_update' memo.pk %}" class="btn btn-primary btn-block mb-2">수정</a>
                        <form action="{% url 'memo_delete' memo.pk %}" method="post" style="display:inline;">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-danger btn-block">삭제</button>
                        </form>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>

<!-- Custom CSS for additional styling -->
<style>
    .container {
        background-color: #f9f9f9;
        padding: 30px;
        border-radius: 10px;
    }
    .card {
        border: none;
        border-radius: 10px;
    }
    .card-title {
        color: #17a2b8;
        font-weight: bold;
    }
    .btn-primary {
        background-color: #17a2b8;
        border-color: #17a2b8;
    }
    .btn-danger {
        background-color: #dc3545;
        border-color: #dc3545;
    }
    .text-center {
        text-align: center;
    }
    .mt-5 {
        margin-top: 3rem !important;
    }
    .mb-4 {
        margin-bottom: 1.5rem !important;
    }
    .mb-3 {
        margin-bottom: 1rem !important;
    }
    .lead {
        font-size: 1.25rem;
        font-weight: 300;
    }
    .shadow-sm {
        box-shadow: 0 .125rem .25rem rgba(0,0,0,.075)!important;
    }
    .btn-block {
        display: block;
        width: 100%;
    }
</style>
{% endblock %}
    